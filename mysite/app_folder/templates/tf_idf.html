{% extends "layout.html" %}
{% block content %}
{% include 'partials/helps/helps_tfidf.html' %}
{% if success == 'True' %}
<div class="form-group text-center">
    <form action="/tf_idf" method="POST">
        <label for="tfidf">Paste in a Resume to Calculate TF-IDF</label>
        <textarea class="form-control" id="tfidf_success" name="tfidf_text" rows="5">{{ original }}</textarea>
        <label class="form-check-label">
            <input class="form-check-input" data-toggle="tooltip" title="Combine words into phrases, where detected"
                   name="gram_tokens" type="checkbox">Phrase Detection?</label>
        <label class="form-check-label">
            <input class="form-check-input" data-toggle="tooltip"
                   title="Standardize words so that words such as 'develop' and 'developing' are considered equal"
                   name="lem_tokens" type="checkbox">Lemmatize Words?</label>
        <div class="input-group-btn">
            <button class="btn btn-danger" name="button" type="tfidf" value="tfidf">Fingerprint</button>
        </div>
    </form>
</div>
{% else %}
<div class="form-group text-center">
    <form action="/tf_idf" method="POST">
        <label for="tfidf">Paste in a Resume to Calculate TF-IDF</label>
        <textarea class="form-control" id="tfidf" name="tfidf_text" rows="5"></textarea>
        <label class="form-check-label">
            <input class="form-check-input" data-toggle="tooltip" title="Combine words into phrases, where detected"
               name="gram_tokens" type="checkbox">Phrase Detection?</label>
        <label class="form-check-label">
            <input class="form-check-input" data-toggle="tooltip"
                   title="Standardize words so that words such as 'develop' and 'developing' are considered equal"
                   name="lem_tokens" type="checkbox">Lemmatize Words?</label>
        <div class="input-group-btn">
            <button class="btn btn-danger" name="button" type="tfidf" value="tfidf">Fingerprint</button>
        </div>
    </form>
</div>
{% endif %}
{% if success == 'True' %}
<div class="container-fluid bg-grey text-center">
    <h2>Highest Scoring Words</h2>

    <table class="table">
        <thead>
        <tr>
            <th class="text-center">Word</th>
            <th class="text-center">TF-IDF</th>
        </tr>
        </thead>
        <tbody>
        {% for word, value in result %}
        <tr>
            <td>{{ word }}</td>
            <td>{{ value }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

</div>{% elif success == 'False' %}
<div class="container-fluid">
    <h2>Oops!</h2>
    <p>Something went wrong.</p>
    <p>{{error_message}}</p>
</div>{% else %} {% endif %}
<script>
    $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});


</script>
{% endblock %}


